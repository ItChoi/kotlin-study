# 25강. 유저 대출 현황 보여주기 - 프로덕션 코드 개발

## 두 번쨰 요구사항 추가 - 도서 대출 현황
1. join 쿼리 이해
2. jpa n + 1 문제와 발생 원인 이해와 해결 방법
3. api 개발시 고민 포인트와 감 잡기

## 요구사항
1. 유저 대출 현황 보여주기
2. 과거에 대출했던 기록, 현재 대출중 기록 보여주기
3. 아무런 기록 없는 유저도 보여야 한다.
- GET /user/loan

## controller 구분 세 가지 기준
1. 화면 사용 API 모아두는 방법
   - 장점
     - 한 눈에 알기 용이하다.
   - 단점
     - API는 화면에 종속적이지 않아, 위치가 애매해질 수 있다.
2. 동일 도메인끼리 API 모아두는 방법
   - 강사 선택 - 화면 기준 api 모아두는 방법보다 좋다.
   - 장점
     - 화면 위치와 무관하다
     - 비슷한 API끼리 모여, 코드 위치 예측 가능
   - 단점
     - API를 통해 화면 어디서 사용하는지 서버 코드만으로 알 수 없다.
3. controller(1) - (1) api
   - 굳이 쓸 필요 없을 듯
- 중요한건 프로젝트가 낯선 사람 입장에서 가독성을 가지는 것!

## controller 찾는 방법
- 전제: API를 알고 있다.
1. IDE 전체 검색 -> url 검색
2. URL을 모아두는 하나의 파일을 만든다.
3. ide - endpoints 활용